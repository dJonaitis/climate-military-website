{% extends "base.html" %}
{% block unique_body %}

<span id="introText" class="terminal"></span><span class='blinker' id="blinker1">&#32;</span>

<div id="landingPageMap" style="display: none; text-align: center;">
  {{ chart }}
</div>

<!-- <span id="mapText" class="terminal"></span><span class='blinker' id="blinker2">&#32;</span> -->



<script>
  var data = [
  {
    introText: "<span>There is a vast amount of armed conflict happening in the world.<br/><br/>Those conflicts are made possible by the enormous <strong>military industrial complex</strong> present in today's globalised society.</span><br/><br/><br/><span style='color: 4AF626; text-shadow: none'>'Enormous' military industrial complex?<br/><br/>What does that mean?</span><br/><br/><br/><span>It means that our world has an exceedingly large defense industry, used to both fuel war's worst atrocities and ensure they don't come to fruition.</span><br/><span>And yes. It is truly massive, let me show you.</span><br/><br/<span>Just hit <strong>Enter</strong></span><br/><br/>"
  },
  // {
  //   mapText: "<span>Zoom in, pan around. Each line is an arms transfer between two countries.<br/><br/>This is only data for the year 2000 as well.<br/><br/>We have data for every single year from 1950 to 2023. If you tried to draw a line for every one of those years on the map, <strong>you'd see nothing but red.</strong></span><br/><br/>"
  // }
  ];

  var allElements = document.getElementsByClassName("terminal");
  for (var j = 0; j < allElements.length; j++) {
    var currentElementId = allElements[j].id;
    var currentElementIdContent = data[0][currentElementId];
    var element = document.getElementById(currentElementId);
    var devTypeText = currentElementIdContent;

    // type code
    var i = 0, isTag, text;
    (function type() {
      text = devTypeText.slice(0, ++i);
      if (text === devTypeText) return;
      element.innerHTML = text + `<span class='blinker'>&#32;</span>`;
      var char = text.slice(-1);
      if (char === "<") isTag = true;
      if (char === ">") isTag = false;
      if (isTag) return type();
      setTimeout(type, 60);
    })();
  }
  document.addEventListener('keydown', function(event) {
    if (event.key == 'Enter') {
      document.getElementById('landingPageMap').style.display = 'block';
    }
  });
  console.log('code over')

</script>



{% endblock %}